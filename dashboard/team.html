<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Team - Mynco Dashboard</title>
    <meta name="description" content="Manage your team members and permissions.">
    <link rel="icon" type="image/svg+xml" href="../assets/images/logo.svg">
    
    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="../assets/css/globals.css">
    <link rel="stylesheet" href="../assets/css/dashboard.css">
    <link rel="stylesheet" href="../assets/css/team.css">
</head>
<body>


    <!-- Dashboard Content -->
    <main class="dashboard-content">
        <div class="container">
            <!-- Page Header -->
            <div class="page-header">
                <div class="page-title">
                    <h1>Team Management</h1>
                    <p>Manage your team members, roles, and permissions</p>
                </div>
                <button class="btn btn-primary" id="inviteTeamBtn">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>
                    </svg>
                    <span>Invite Member</span>
                </button>
            </div>

            <!-- Team Stats -->
            <div class="stats-grid">
                <div class="stat-card">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M16 4c0-1.11.89-2 2-2s2 .89 2 2-.89 2-2 2-2-.89-2-2zm4 18v-6h2.5l-2.54-7.63A1.5 1.5 0 0 0 18.54 8H17c-.8 0-1.54.37-2.01 1l-1.7 2.26V15h-1.5v-3.5l-1.7-2.26A2.5 2.5 0 0 0 8.54 8H7.46c-.8 0-1.54.37-2.01 1L2.5 16H5v6h15z"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <h3>3</h3>
                        <p>Team Members</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12,1L3,5V11C3,16.55 6.84,21.74 12,23C17.16,21.74 21,16.55 21,11V5L12,1M12,7C13.4,7 14.8,8.6 14.8,10V11H16V18H8V11H9.2V10C9.2,8.6 10.6,7 12,7M12,8.2C11.2,8.2 10.4,8.7 10.4,10V11H13.6V10C13.6,8.7 12.8,8.2 12,8.2Z"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <h3>2</h3>
                        <p>Admin Roles</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <h3>3</h3>
                        <p>Active Sessions</p>
                    </div>
                </div>

                <div class="stat-card">
                    <div class="stat-icon">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M20 6h-2.18c.11-.31.18-.65.18-1 0-1.66-1.34-3-3-3-1.05 0-1.96.54-2.5 1.35l-.5.67-.5-.68C10.96 2.54 10.05 2 9 2 7.34 2 6 3.34 6 5c0 .35.07.69.18 1H4c-1.11 0-1.99.89-1.99 2L2 19c0 1.11.89 2 2 2h16c1.11 0 2-.89 2-2V8c0-1.11-.89-2-2-2zm-5-2c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1zM9 4c.55 0 1 .45 1 1s-.45 1-1 1-1-.45-1-1 .45-1 1-1z"/>
                        </svg>
                    </div>
                    <div class="stat-content">
                        <h3>1</h3>
                        <p>Pending Invites</p>
                    </div>
                </div>
            </div>

            <!-- Team Members -->
            <div class="team-section">
                <div class="section-header">
                    <h2>Team Members</h2>
                    <div class="filter-tabs">
                        <button class="filter-tab active" data-filter="all">All Members</button>
                        <button class="filter-tab" data-filter="admin">Admins</button>
                        <button class="filter-tab" data-filter="member">Members</button>
                    </div>
                </div>

                <div class="team-grid">
                    <!-- Team Member 1 -->
                    <div class="team-card" data-role="admin">
                        <div class="member-avatar">
                            <div class="avatar large">A</div>
                            <span class="status-indicator online"></span>
                        </div>
                        <div class="member-info">
                            <h3>Anthony Carayon</h3>
                            <p class="member-email">anthony@mynco.app</p>
                            <div class="member-role">
                                <span class="role-badge admin">Owner</span>
                                <span class="member-joined">Joined 2 years ago</span>
                            </div>
                        </div>
                        <div class="member-actions">
                            <button class="action-btn" title="Edit permissions">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Team Member 2 -->
                    <div class="team-card" data-role="admin">
                        <div class="member-avatar">
                            <div class="avatar large">M</div>
                            <span class="status-indicator online"></span>
                        </div>
                        <div class="member-info">
                            <h3>Marie Dubois</h3>
                            <p class="member-email">marie@mynco.app</p>
                            <div class="member-role">
                                <span class="role-badge admin">Admin</span>
                                <span class="member-joined">Joined 1 year ago</span>
                            </div>
                        </div>
                        <div class="member-actions">
                            <button class="action-btn" title="Edit permissions">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                                </svg>
                            </button>
                            <button class="action-btn danger" title="Remove member">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M19 13H5v-2h14v2z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Team Member 3 -->
                    <div class="team-card" data-role="member">
                        <div class="member-avatar">
                            <div class="avatar large">J</div>
                            <span class="status-indicator away"></span>
                        </div>
                        <div class="member-info">
                            <h3>Jean Martin</h3>
                            <p class="member-email">jean@example.com</p>
                            <div class="member-role">
                                <span class="role-badge member">Member</span>
                                <span class="member-joined">Joined 6 months ago</span>
                            </div>
                        </div>
                        <div class="member-actions">
                            <button class="action-btn" title="Edit permissions">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34c-.39-.39-1.02-.39-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"/>
                                </svg>
                            </button>
                            <button class="action-btn danger" title="Remove member">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M19 13H5v-2h14v2z"/>
                                </svg>
                            </button>
                        </div>
                    </div>

                    <!-- Pending Invite -->
                    <div class="team-card pending">
                        <div class="member-avatar">
                            <div class="avatar large pending">?</div>
                            <span class="status-indicator pending"></span>
                        </div>
                        <div class="member-info">
                            <h3>sarah@designstudio.com</h3>
                            <p class="member-email">Invitation pending</p>
                            <div class="member-role">
                                <span class="role-badge pending">Invited</span>
                                <span class="member-joined">Invited 2 days ago</span>
                            </div>
                        </div>
                        <div class="member-actions">
                            <button class="action-btn" title="Resend invitation">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"/>
                                </svg>
                            </button>
                            <button class="action-btn danger" title="Cancel invitation">
                                <svg viewBox="0 0 24 24" fill="currentColor">
                                    <path d="M19 13H5v-2h14v2z"/>
                                </svg>
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Invite Member Modal -->
    <div class="modal" id="inviteModal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Invite Team Member</h2>
                <button class="modal-close" id="closeInviteModal" aria-label="Close modal">
                    <svg viewBox="0 0 24 24" fill="currentColor">
                        <path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
                    </svg>
                </button>
            </div>
            
            <form id="inviteForm" class="modal-body">
                <div class="form-group">
                    <label for="memberEmail">Email Address</label>
                    <input type="email" id="memberEmail" name="email" required 
                           placeholder="Enter team member's email">
                    <small class="form-help">They'll receive an invitation via email</small>
                </div>

                <div class="form-group">
                    <label for="memberRole">Role</label>
                    <select id="memberRole" name="role" required>
                        <option value="">Select a role</option>
                        <option value="member">Member</option>
                        <option value="admin">Admin</option>
                    </select>
                    <small class="form-help">
                        <strong>Member:</strong> Can view and manage assigned projects<br>
                        <strong>Admin:</strong> Full access including team management
                    </small>
                </div>

                <div class="form-group">
                    <label for="inviteMessage">Personal Message (Optional)</label>
                    <textarea id="inviteMessage" name="message" rows="3" 
                              placeholder="Add a personal welcome message..."></textarea>
                </div>

                <div class="modal-actions">
                    <button type="button" class="btn btn-secondary" id="cancelInvite">Cancel</button>
                    <button type="submit" class="btn btn-primary">
                        <svg viewBox="0 0 24 24" fill="currentColor">
                            <path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"/>
                        </svg>
                        Send Invitation
                    </button>
                </div>
            </form>
        </div>
    </div>

    <!-- Scripts -->
    <script type="module" src="../assets/js/firestore-config.js"></script>
    
    <!-- Components -->
    <script src="../assets/components/sidebar.js"></script>
    <script src="../assets/components/topbar.js"></script>
    <script src="../assets/components/footer.js"></script>
    <script src="../assets/components/layout.js"></script>
    
    <!-- Initialize Topbar -->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Initialize topbar with team-specific configuration
            const topbar = new Topbar({
                searchPlaceholder: 'Search team members...',
                primaryButtonText: 'Invite Member',
                primaryButtonIcon: '<path d="M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm-9-2V7H4v3H1v2h3v3h2v-3h3v-2H6zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/>',
                primaryButtonAction: function() {
                    // Open invite modal
                    const inviteModal = document.getElementById('inviteModal');
                    if (inviteModal) {
                        inviteModal.classList.add('show');
                        document.body.style.overflow = 'hidden';
                    }
                }
            });
        });
    </script>

    <!-- Page-specific functionality -->
    <script src="../assets/js/team.js"></script>
</body>
</html> 